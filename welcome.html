<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ØªØºØ·ÙŠØ© Ø§Ù„Ø´Ø¨ÙƒØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
   background:url('images1t.jpg') no-repeat center center fixed;
    background-size:cover;
}

.container {
  max-width: 950px;
  margin: 20px auto;
  background: white;
  border-radius: 18px;
  padding: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

h1 {
  text-align: center;
  margin-bottom: 10px;
  font-size: 26px;
}

p.welcome {
  text-align: center;
  font-size: 16px;
  color: #555;
  margin-bottom: 20px;
}

.map-box {
  position: relative;
  width: 100%;
  height: 500px;
  border-radius: 12px;
  overflow: hidden;
}

.controls {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.95);
  padding: 10px 15px;
  border-radius: 12px;
  display: flex;
  gap: 10px;
  z-index: 10;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

select, button {
  padding: 6px 10px;
  font-size: 13px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button {
  cursor: pointer;
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: white;
  border: none;
}

button.location-btn {
  background: linear-gradient(135deg,#2ecc71,#27ae60);
}

/* Ø²Ø± Retour Ø«Ø§Ø¨Øª Ø£Ø³ÙÙ„ Ø§Ù„ÙŠØ³Ø§Ø± */
button.retour {
  position: fixed;
  bottom: 20px;
  left: 20px;
  background: linear-gradient(135deg,#e74c3c,#c0392b);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 12px 20px;
  cursor: pointer;
  box-shadow:0 5px 15px rgba(0,0,0,0.3);
  z-index:1000;
}

iframe {
  width: 100%;
  height: 100%;
  border: none;
}
</style>
</head>
<body>

<div class="container">
     <!-- Logos -->
    <div class="logos">
        <img src="images.jpg" alt="ISET Kebili" style="width: 100;height: 50px;">

  <h1>ğŸ“¡ Ù…Ø±Ø­Ø¨Ø§ Ø¨ÙŠÙƒ ÙÙŠ Ø®Ø¯Ù…Ø© Ø§Ù„ØªØºØ·ÙŠØ©</h1>
  <p class="welcome">Ø§Ø®ØªØ§Ø± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙˆØ§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠØ© Ùˆ Ø§Ø¹Ø±Ù Ø§Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…ÙƒØ§Ù† Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ø£Ùˆ Ø§Ø¶ØºØ· "Ø­Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹ÙŠ".</p>

  <div class="map-box">
    <div class="controls">
      <select id="gouvernorat" onchange="updateDelegations()">
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>
        <option value="Tunis">Tunis</option>
        <option value="Ariana">Ariana</option>
        <option value="Ben Arous">Ben Arous</option>
        <option value="Sousse">Sousse</option>
        <option value="Sfax">Sfax</option>
      </select>

      <select id="delegation" onchange="verifier()">
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠØ© --</option>
      </select>

      <button class="location-btn" onclick="getLocation()">ğŸ“ Ø­Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹ÙŠ</button>
    </div>

    <iframe id="ttFrame" src="https://geo.tunisietelecom.tn/mytaghtia/"></iframe>
  </div>

</div>

<!-- Ø²Ø± Retour Ø£Ø³ÙÙ„ Ø§Ù„ÙŠØ³Ø§Ø± -->
<button class="retour" onclick="retour()">â¬…ï¸ Retour</button>

<script>
// Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠØ§Øª Ù„ÙƒÙ„ ÙˆÙ„Ø§ÙŠØ©
const delegations = {
  "Tunis": ["Carthage", "La Marsa", "Le Bardo", "Centre Ville"],
  "Ariana": ["Ariana Ville", "Raoued", "La Soukra"],
  "Ben Arous": ["Ben Arous", "Ezzahra", "Rades"],
  "Sousse": ["Sousse Ville", "Hammam Sousse"],
  "Sfax": ["Sfax Ville", "Sakiet Ezzit"]
};

// Ø±ÙˆØ§Ø¨Ø· iframe Ø¬Ø§Ù‡Ø²Ø© Ù„ÙƒÙ„ ÙˆÙ„Ø§ÙŠØ© + Ù…Ø¹ØªÙ…Ø¯ÙŠØ©
const mapsLinks = {
  "Tunis": {
    "Carthage":"https://geo.tunisietelecom.tn/mytaghtia/?search=Carthage+Tunis",
    "La Marsa":"https://geo.tunisietelecom.tn/mytaghtia/?search=La+Marsa+Tunis",
    "Le Bardo":"https://geo.tunisietelecom.tn/mytaghtia/?search=Le+Bardo+Tunis",
    "Centre Ville":"https://geo.tunisietelecom.tn/mytaghtia/?search=Centre+Ville+Tunis"
  },
  "Ariana":{
    "Ariana Ville":"https://geo.tunisietelecom.tn/mytaghtia/?search=Ariana+Ville+Ariana",
    "Raoued":"https://geo.tunisietelecom.tn/mytaghtia/?search=Raoued+Ariana",
    "La Soukra":"https://geo.tunisietelecom.tn/mytaghtia/?search=La+Soukra+Ariana"
  },
  "Ben Arous":{
    "Ben Arous":"https://geo.tunisietelecom.tn/mytaghtia/?search=Ben+Arous+Ben+Arous",
    "Ezzahra":"https://geo.tunisietelecom.tn/mytaghtia/?search=Ezzahra+Ben+Arous",
    "Rades":"https://geo.tunisietelecom.tn/mytaghtia/?search=Rades+Ben+Arous"
  },
  "Sousse":{
    "Sousse Ville":"https://geo.tunisietelecom.tn/mytaghtia/?search=Sousse+Ville+Sousse",
    "Hammam Sousse":"https://geo.tunisietelecom.tn/mytaghtia/?search=Hammam+Sousse+Sousse"
  },
  "Sfax":{
    "Sfax Ville":"https://geo.tunisietelecom.tn/mytaghtia/?search=Sfax+Ville+Sfax",
    "Sakiet Ezzit":"https://geo.tunisietelecom.tn/mytaghtia/?search=Sakiet+Ezzit+Sfax"
  }
};

function updateDelegations(){
  const gov = document.getElementById("gouvernorat").value;
  const delSelect = document.getElementById("delegation");
  delSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠØ© --</option>';
  if(delegations[gov]){
    delegations[gov].forEach(d=>{
      const opt = document.createElement("option");
      opt.value=d;
      opt.textContent=d;
      delSelect.appendChild(opt);
    });
  }
}

function verifier(){
  const gov = document.getElementById("gouvernorat").value;
  const del = document.getElementById("delegation").value;
  if(!gov||!del) return;
  const url = mapsLinks[gov][del];
  if(url) document.getElementById("ttFrame").src=url;
  else alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±Ø§Ø¨Ø· Ø¬Ø§Ù‡Ø² Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ÙŠØ©.");
}

// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªØºØ·ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹
function getLocation(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(function(position){
      const lat = position.coords.latitude;
      const lng = position.coords.longitude;
      const url = `https://geo.tunisietelecom.tn/mytaghtia/?lat=${lat}&lng=${lng}`;
      document.getElementById("ttFrame").src=url;
    }, function(error){
      alert("ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ.");
    });
  }else{
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.");
  }
}

// Ø²Ø± Retour ÙŠØ±Ø¬Ø¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
function retour(){
  window.location.href="index.html"; // Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù‡Ù†Ø§
}
</script>

</body>
</html>